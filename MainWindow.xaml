<Window x:Class="LMU.RacingLeague.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="LMU Racing League Manager" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style x:Key="HeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Foreground" Value="#2c3e50"/>
        </Style>

        <Style x:Key="ButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Background" Value="#3498db"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style x:Key="InputStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="25"/>
        </Style>

        <Style x:Key="ComboStyle" TargetType="ComboBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="25"/>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <TabControl>
            <!-- DRIVERS TAB -->
            <TabItem Header="Piloti">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Driver List -->
                    <GroupBox Header="Lista Piloti" Grid.Column="0" Margin="0,0,10,0">
                        <DataGrid ItemsSource="{Binding Drivers}" 
                                  SelectedItem="{Binding SelectedDriver}"
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Nome" Binding="{Binding FullName}" Width="*"/>
                                <DataGridTextColumn Header="Sigla" Binding="{Binding ShortName}" Width="60"/>
                                <DataGridTextColumn Header="Nazionalità" Binding="{Binding Nationality}" Width="100"/>
                                <DataGridTextColumn Header="Categoria" Binding="{Binding Category}" Width="80"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <!-- Driver Form -->
                    <GroupBox Header="Gestione Pilota" Grid.Column="1">
                        <StackPanel>
                            <TextBlock Text="Nome:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewDriverFirstName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Cognome:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewDriverLastName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Sigla:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewDriverShortName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Nazionalità:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewDriverNationality}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Categoria:" Margin="5,5,5,0"/>
                            <ComboBox SelectedItem="{Binding NewDriverCategory}" Style="{StaticResource ComboStyle}">
                                <ComboBox.ItemsSource>
                                    <x:Array Type="sys:String" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                        <sys:String>Bronze</sys:String>
                                        <sys:String>Silver</sys:String>
                                        <sys:String>Gold</sys:String>
                                        <sys:String>Platinum</sys:String>
                                    </x:Array>
                                </ComboBox.ItemsSource>
                            </ComboBox>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                                <Button Content="Nuovo" Click="AddDriver_Click" Style="{StaticResource ButtonStyle}" Background="#27ae60"/>
                                <Button Content="Modifica" Click="UpdateDriver_Click" Style="{StaticResource ButtonStyle}" Background="#f39c12"/>
                                <Button Content="Elimina" Click="DeleteDriver_Click" Style="{StaticResource ButtonStyle}" Background="#e74c3c"/>
                            </StackPanel>

                            <Button Content="Pulisci Form" Click="ClearDriverForm_Click" 
                                    Style="{StaticResource ButtonStyle}" Background="#95a5a6" Margin="5,10,5,5"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- TEAMS TAB -->
            <TabItem Header="Team">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Team List -->
                    <GroupBox Header="Lista Team" Grid.Column="0" Margin="0,0,10,0">
                        <DataGrid ItemsSource="{Binding Teams}" 
                                  SelectedItem="{Binding SelectedTeam}"
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Nome" Binding="{Binding Name}" Width="*"/>
                                <DataGridTextColumn Header="Sigla" Binding="{Binding ShortName}" Width="60"/>
                                <DataGridTextColumn Header="Paese" Binding="{Binding Country}" Width="100"/>
                                <DataGridTemplateColumn Header="Colore" Width="60">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Border Background="{Binding PrimaryColor}" Width="30" Height="20" BorderBrush="Gray" BorderThickness="1"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <!-- Team Form -->
                    <GroupBox Header="Gestione Team" Grid.Column="1">
                        <StackPanel>
                            <TextBlock Text="Nome:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewTeamName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Sigla:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewTeamShortName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Paese:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewTeamCountry}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Colore Primario:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewTeamPrimaryColor}" Style="{StaticResource InputStyle}"/>

                            <Border Background="{Binding NewTeamPrimaryColor}" 
                                    Width="50" Height="25" 
                                    BorderBrush="Gray" BorderThickness="1" 
                                    Margin="5" HorizontalAlignment="Left"/>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                                <Button Content="Nuovo" Click="AddTeam_Click" Style="{StaticResource ButtonStyle}" Background="#27ae60"/>
                                <Button Content="Modifica" Click="UpdateTeam_Click" Style="{StaticResource ButtonStyle}" Background="#f39c12"/>
                                <Button Content="Elimina" Click="DeleteTeam_Click" Style="{StaticResource ButtonStyle}" Background="#e74c3c"/>
                            </StackPanel>

                            <Button Content="Pulisci Form" Click="ClearTeamForm_Click" 
                                    Style="{StaticResource ButtonStyle}" Background="#95a5a6" Margin="5,10,5,5"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- CARS TAB -->
            <TabItem Header="Auto">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Car List -->
                    <GroupBox Header="Lista Auto" Grid.Column="0" Margin="0,0,10,0">
                        <DataGrid ItemsSource="{Binding Cars}" 
                                  SelectedItem="{Binding SelectedCar}"
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Categoria" Binding="{Binding Category}" Width="80"/>
                                <DataGridTextColumn Header="Costruttore" Binding="{Binding Manufacturer}" Width="120"/>
                                <DataGridTextColumn Header="Modello" Binding="{Binding Name}" Width="*"/>
                                <DataGridTextColumn Header="Anno" Binding="{Binding Year}" Width="60"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <!-- Car Form -->
                    <GroupBox Header="Gestione Auto" Grid.Column="1">
                        <StackPanel>
                            <TextBlock Text="Nome/Modello:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewCarName}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Costruttore:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewCarManufacturer}" Style="{StaticResource InputStyle}"/>

                            <TextBlock Text="Categoria:" Margin="5,5,5,0"/>
                            <ComboBox SelectedItem="{Binding NewCarCategory}" Style="{StaticResource ComboStyle}">
                                <ComboBox.ItemsSource>
                                    <x:Array Type="sys:String" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                        <sys:String>LMP1</sys:String>
                                        <sys:String>LMP2</sys:String>
                                        <sys:String>GTEPro</sys:String>
                                        <sys:String>GTEAm</sys:String>
                                    </x:Array>
                                </ComboBox.ItemsSource>
                            </ComboBox>

                            <TextBlock Text="Anno:" Margin="5,5,5,0"/>
                            <TextBox Text="{Binding NewCarYear}" Style="{StaticResource InputStyle}"/>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                                <Button Content="Nuovo" Click="AddCar_Click" Style="{StaticResource ButtonStyle}" Background="#27ae60"/>
                                <Button Content="Modifica" Click="UpdateCar_Click" Style="{StaticResource ButtonStyle}" Background="#f39c12"/>
                                <Button Content="Elimina" Click="DeleteCar_Click" Style="{StaticResource ButtonStyle}" Background="#e74c3c"/>
                            </StackPanel>

                            <Button Content="Pulisci Form" Click="ClearCarForm_Click" 
                                    Style="{StaticResource ButtonStyle}" Background="#95a5a6" Margin="5,10,5,5"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>